<!DOCTYPE html>
<html lang="en">
<head>
	<title>Zefau - ioBroker.Repositories</title>
	<meta charset="utf-8"/>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/3.0.1/github-markdown.min.css" />
	<style>

body {
	background-color: #eee;
}

table {
	margin: 0 auto;
	width: 70% !important;
}

	</style>
	<script type="text/javascript" src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
	<script type="text/javascript">

const github = 'https://github.com/';
const iobroker = 'http://iobroker.live/badges/';
const npm = 'https://www.npmjs.com/package/';
const travis = 'https://travis-ci.org/';
const david = 'https://david-dm.org/';

const repositories = {
	iobroker: [
		{name: 'ioBroker.roomba', key: 'roomba'},
		{name: 'ioBroker.nuki2', key: 'nuki2'},
		{name: 'ioBroker.nuki-extended', key: 'nuki-extended'},
		{name: 'ioBroker.nello', key: 'nello'},
		{name: 'ioBroker.plex', key: 'plex'},
		{name: 'ioBroker.hue-extended', key: 'hue-extended'},
		{user: 'iobroker-community-adapters', name: 'ioBroker.owntracks', key: 'owntracks'}
	],
	
	apis: [
		{name: 'nuki-web-api', key: 'nuki-web-api'},
		{name: 'nello.io', key: 'nello', npm: 'nello'},
		{name: 'tautulli-api', key: 'tautulli-api'}
	]
};

$(document).ready(function()
{
	for (let key in repositories)
	{
		repositories[key].forEach(function(repo)
		{
			repo.user = repo.user || 'Zefau';
			let row = $('<tr />', {});
			
			// Name
			row.append($('<td />', {}).append($('<a />', {'text': repo.name, 'href': github + repo.user + '/' + repo.name})));
			
			// Installations
			if (key == 'iobroker') row.append($('<td />', {}).append($('<a />', {'href': iobroker + repo.key + '-installed.svg', 'target': '_blank'}).append($('<img />', {'src': iobroker + repo.key + '-installed.svg', 'alt': 'Number of Installations'}))));
			
			// Stars (Github)
			row.append($('<td />', {}).append($('<a />', {'href': github + repo.user + '/' + repo.name + '/stargazers', 'target': '_blank'}).append($('<img />', {'src': 'https://img.shields.io/github/stars/' + repo.user + '/' + repo.name + '.svg', 'alt': 'Github Stars'}))));
			
			// Watchers (Github)
			row.append($('<td />', {}).append($('<a />', {'href': github + repo.user + '/' + repo.name + '/watchers', 'target': '_blank'}).append($('<img />', {'src': 'https://img.shields.io/github/watchers/' + repo.user + '/' + repo.name + '.svg', 'alt': 'Github Watchers'}))));
			
			// Forks (Github)
			row.append($('<td />', {}).append($('<a />', {'href': github + repo.user + '/' + repo.name + '/network/members', 'target': '_blank'}).append($('<img />', {'src': 'https://img.shields.io/github/forks/' + repo.user + '/' + repo.name + '.svg', 'alt': 'Github Forks'}))));
			
			// Stable (ioBroker)
			if (key == 'iobroker') row.append($('<td />', {}).append($('<a />', {'href': iobroker + repo.key + '-stable.svg', 'target': '_blank'}).append($('<img />', {'src': iobroker + repo.key + '-stable.svg', 'alt': 'Stable Release'}))));
			
			// Latest (NPM) 
			row.append($('<td />', {}).append($('<a />', {'href': npm + (repo.npm || repo.name).toLowerCase(), 'target': '_blank'}).append($('<img />', {'src': 'http://img.shields.io/npm/v/' + (repo.npm || repo.name).toLowerCase() + '.svg', 'alt': 'NPM Release'}))));
			
			// Travis
			if (key == 'iobroker') row.append($('<td />', {}).append($('<a />', {'href': travis + repo.user + '/' + repo.name, 'target': '_blank'}).append($('<img />', {'src': travis + repo.user + '/' + repo.name + '.svg?branch=master', 'alt': 'Travis'}))));
			
			// Issues (Github)
			row.append($('<td />', {}).append($('<a />', {'href': github + repo.user + '/' + repo.name + '/issues', 'target': '_blank'}).append($('<img />', {'src': 'https://img.shields.io/github/issues/' + repo.user + '/' + repo.name + '.svg', 'alt': 'Issues'}))));
			
			// Dependencies
			if (key == 'iobroker') row.append($('<td />', {}).append($('<a />', {'href': david + repo.user + '/' + repo.name, 'target': '_blank'}).append($('<img />', {'src': 'https://david-dm.org/' + repo.user + '/' + repo.name + '/status.svg', 'alt': 'Dependencies'}))));
			
			// DevDependencies
			if (key == 'iobroker') row.append($('<td />', {}).append($('<a />', {'href': david + repo.user + '/' + repo.name + '?type=dev', 'target': '_blank'}).append($('<img />', {'src': 'https://david-dm.org/' + repo.user + '/' + repo.name + '/dev-status.svg', 'alt': 'Dependencies'}))));
			
			$('#'+key).append(row);
		});
	}
});
	
	</script>
</head>
<body class="markdown-body">


<table>
	<thead>
		<tr>
			<th>Adapter</th>
			<th>Installations</th>
			<th>Stars</th>
			<th>Watchers</th>
			<th>Forks</th>
			<th>Stable</th>
			<th>Latest</th>
			<th>Travis</th>
			<th>Issues</th>
			<th>Dependencies</th>
			<th>DevDependencies</th>
		</tr>
	</thead>
	<tbody id="iobroker">
	</tbody>
</table>


<table>
	<thead>
		<tr>
			<th>Repository</th>
			<th>Stars</th>
			<th>Watchers</th>
			<th>Forks</th>
			<th>NPM</th>
			<th>Issues</th>
		</tr>
	</thead>
	<tbody id="apis">
	</tbody>
</table>
	
	
</body>
</html>
